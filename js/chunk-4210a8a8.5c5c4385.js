(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4210a8a8"],{"0a54":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-container",{attrs:{"is-collpased":t.isCollapsed}},[n("template",{slot:"sidebar"},[n("Menu",{staticClass:"sider-menu",class:t.menuitemClasses,attrs:{"active-name":t.activeCat2Name,theme:"dark",width:"auto"},on:{"on-select":t.handleSidebarSelect}},t._l(t.leftSides,function(e){return n("MenuItem",{key:e.id,attrs:{name:e.name}},[n("Icon",{attrs:{type:"ios-navigate"}}),n("span",[t._v(t._s(e.name))])],1)}),1)],1),n("template",{slot:"content"},[n("Card",[n("Row",{attrs:{gutter:8}},[n("i-col",{attrs:{span:16}},[n("Row",[n("i-col",{attrs:{span:4}},[n("Button",{on:{click:function(e){return t.handleOrdering("click_num")}}},[n("Icon",{attrs:{type:"ios-hand",size:"20"}}),t._v("\n                                点击量\n                                "),"click_num"===t.orderingName&""===t.orderingType?n("Icon",{attrs:{type:"ios-arrow-round-up",size:24}}):t._e(),"click_num"===t.orderingName&"-"===t.orderingType?n("Icon",{attrs:{type:"ios-arrow-round-down",size:24}}):t._e()],1)],1),n("i-col",{attrs:{span:4}},[n("Button",{on:{click:function(e){return t.handleOrdering("focus_num")}}},[n("Icon",{attrs:{type:"ios-eye",size:"24"}}),t._v("\n                                关注量\n                                "),"focus_num"===t.orderingName&""===t.orderingType?n("Icon",{attrs:{type:"ios-arrow-round-up",size:24}}):t._e(),"focus_num"===t.orderingName&"-"===t.orderingType?n("Icon",{attrs:{type:"ios-arrow-round-down",size:24}}):t._e()],1)],1),n("i-col",{attrs:{span:4}},[n("Button",[n("Icon",{attrs:{type:"ios-love",size:"20"}}),n("Icon",{attrs:{type:"ios-heart",size:"20"}}),t._v("\n                                点赞量\n                                "),n("Icon",{attrs:{type:"ios-arrow-round-up",size:24}})],1)],1),n("i-col",{attrs:{span:4}},[n("Button",{on:{click:function(e){return t.handleOrdering("add_time")}}},[n("Icon",{attrs:{type:"ios-clock",size:"20"}}),t._v("\n                                发布时间\n                                "),"add_time"===t.orderingName&""===t.orderingType?n("Icon",{attrs:{type:"ios-arrow-round-up",size:24}}):t._e(),"add_time"===t.orderingName&"-"===t.orderingType?n("Icon",{attrs:{type:"ios-arrow-round-down",size:24}}):t._e()],1)],1),n("i-col",{attrs:{span:3}},[n("Button",{on:{click:function(e){t.moterModal=!0}}},[t._v("热门模特儿")])],1),n("i-col",{attrs:{span:5}},[n("Select",{attrs:{clearable:"",placeholder:"请选择摄影出品机构"},on:{"on-change":t.selectByPublisher},model:{value:t.publisher,callback:function(e){t.publisher=e},expression:"publisher"}},t._l(t.publishers,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+"\n                                ")])}),1)],1),n("Modal",{attrs:{title:"请选择一个模特儿",width:"50"},model:{value:t.moterModal,callback:function(e){t.moterModal=e},expression:"moterModal"}},[n("Row",[n("h4",[t._v("下面列出了一些热门模特的名字，您还可以在搜索框中输入模特儿的名字或名字的一部分进行搜索，\n                                    比如输入：'纯' 或 '王雨纯' 或 '王语纯'！\n                                ")])]),n("Divider",[t._v("最火模特儿")]),n("Row",t._l(t.moters,function(e){return n("Button",{staticClass:"btn-moter",on:{click:function(n){return t.selectByMoter(e.id)}}},[t._v("\n                                    "+t._s(e.name)+"\n                                ")])}),1)],1)],1)],1),n("i-col",{attrs:{span:8}},[n("Row",[n("Input",{attrs:{search:"","enter-button":"搜索",placeholder:"根据关键字搜索专辑..."},on:{click:t.handleSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)],1),n("Row",[n("Page",{attrs:{total:t.albumCountTotal,"page-size":t.albumCountPerPage,"prev-text":"上一页","next-text":"下一页",current:t.currentPage},on:{"on-change":t.hanglePaginate}})],1)],1),n("Row",[n("album-list",{attrs:{albums:t.albums}})],1),n("Row",[n("Page",{attrs:{total:t.albumCountTotal,"page-size":t.albumCountPerPage,"prev-text":"上一页","next-text":"下一页",current:t.currentPage},on:{"on-change":t.hanglePaginate}})],1)],1)],2)},a=[],i=(n("386d"),n("4ec3")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.albums,function(e,r){return n("Card",{key:e.id,staticStyle:{margin:"8px",width:"252px",float:"left"},attrs:{shadow:""}},[n("h4",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),n("a",{attrs:{slot:"extra",href:"#"},slot:"extra"},[n("Icon",{attrs:{type:"ios-loop-strong"}}),t._l(r%4,function(t){return n("Icon",{key:t,attrs:{type:"ios-star"}})})],2),n("div",{staticStyle:{"text-align":"center"}},[n("img",{attrs:{src:e.cover,width:"200px",height:"260px"},on:{click:function(n){return t.handleSelect(e.id)}}})]),n("div",{staticStyle:{"text-align":"center"}},[n("span",[n("Icon",{attrs:{type:"ios-hand",size:"20"}}),t._v(": "+t._s(e.click_num))],1),t._v(" ·\n            "),n("span",[n("Icon",{attrs:{type:"ios-eye",size:"24"}}),t._v(": "+t._s(e.favor_num)+" ")],1),t._v(" ·\n            "),n("span",[n("Icon",{attrs:{type:"ios-heart",size:"20"}}),t._v(": 100 ")],1)])])}),1)},s=[],c={name:"album-list",props:{albums:Array},data:function(){return{count:0}},methods:{handleSelect:function(t){console.log(t),this.$router.push({path:"/album/"+t})}},created:function(){}},u=c,l=n("2877"),d=Object(l["a"])(u,o,s,!1,null,"12e66e48",null),h=d.exports,p={name:"zgmn",components:{AlbumList:h},data:function(){return{isCollapsed:!1,leftSides:[],activeCat2Name:-1,publishers:[],publisher:"",moters:[],moter:"",albums:[],albumCountTotal:0,albumCountPerPage:12,currentPage:1,orderingName:"click_num",orderingType:"-",search:"",pubModal:!1,moterModal:!1}},computed:{menuitemClasses:function(){return["menu-item",this.isCollapsed?"collapsed-menu":""]},ordering:function(){return this.orderingType+this.orderingName}},watch:{orderingType:function(t){var e=t+this.orderingName;this.obtainAlbums({category:1,ordering:e,publisher:this.publisher,search:this.search,page:this.currentPage})},search:function(t){this.obtainAlbums({category:1,ordering:this.ordering,publisher:this.publisher,search:t,page:this.currentPage})}},methods:{handleSidebarSelect:function(){console.log("哈哈哈哈哈哈哈哈哈哈或或或")},obtainPublishers:function(){var t=this;Object(i["d"])({}).then(function(e){t.publishers=e.data})},obtainMoters:function(){var t=this;Object(i["c"])({params:{hotness_min:1}}).then(function(e){t.moters=e.data})},handleSearch:function(){this.obtainAlbums({category:1,ordering:this.ordering,search:this.search,page:this.currentPage})},handleOrdering:function(t){this.orderingName=t,""===this.orderingType?this.orderingType="-":this.orderingType="",console.log(this.ordering)},obtainAlbums:function(t){var e=this;Object(i["a"])({params:t}).then(function(t){e.albums=t.data.results,e.albumCountTotal=t.data.count})},hanglePaginate:function(t){this.currentPage=t,this.currentPage=t;var e=this.$Message.loading({content:"正在加载中...",duration:0});setTimeout(e,1e3),this.obtainAlbums({category:1,ordering:this.ordering,publisher:this.publisher,moter:this.moter,page:this.currentPage})},selectByMoter:function(t){this.moter=t,this.obtainAlbums({ordering:this.ordering,moter:this.moter,page:this.currentPage})},selectByPublisher:function(){this.obtainAlbums({ordering:this.ordering,publisher:this.publisher,page:this.currentPage})}},created:function(){this.obtainAlbums({category:1,ordering:this.ordering,publisher:this.publisher,moter:this.moter,page:this.currentPage}),this.obtainPublishers(),this.obtainMoters()}},m=p,g=(n("a366"),Object(l["a"])(m,r,a,!1,null,"1095b875",null));e["default"]=g.exports},"386d":function(t,e,n){"use strict";var r=n("cb7c"),a=n("83a1"),i=n("5f1b");n("214f")("search",1,function(t,e,n,o){return[function(n){var r=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=o(n,t,this);if(e.done)return e.value;var s=r(t),c=String(this),u=s.lastIndex;a(u,0)||(s.lastIndex=0);var l=i(s,c);return a(s.lastIndex,u)||(s.lastIndex=u),null===l?-1:l.index}]})},"4ec3":function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return u});var r=n("7f43"),a=n.n(r),i="https://118.190.217.4",o=function(t){return"id"in t?a.a.get("".concat(i,"/publishers/")+t.id+"/"):a.a.get("".concat(i,"/publishers/"),t)},s=function(t){return"id"in t?a.a.get("".concat(i,"/moters/")+t.id+"/"):a.a.get("".concat(i,"/moters/"),t)},c=function(t){return"id"in t?a.a.get("".concat(i,"/albums/")+t.id+"/"):a.a.get("".concat(i,"/albums/"),t)},u=function(t){return"id"in t?a.a.get("".concat(i,"/images/")+t.id+"/"):a.a.get("".concat(i,"/images/"),t)}},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},a366:function(t,e,n){"use strict";var r=n("f49b"),a=n.n(r);a.a},f49b:function(t,e,n){}}]);
//# sourceMappingURL=chunk-4210a8a8.5c5c4385.js.map