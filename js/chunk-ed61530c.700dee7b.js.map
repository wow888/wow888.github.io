{"version":3,"sources":["webpack:///./src/api/api.js","webpack:///./src/components/AlbumDetail.vue?8c54","webpack:///src/components/AlbumDetail.vue","webpack:///./src/components/AlbumDetail.vue?6ead","webpack:///./src/components/AlbumDetail.vue"],"names":["__webpack_require__","d","__webpack_exports__","getPublishers","getMoters","getAlbums","getImages","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","host","params","axios","get","concat","id","render","_vm","this","_h","$createElement","_c","_self","attrs","is-collpased","isCollapsed","slot","_v","_s","album","name","total","imgCountTotal","page-size","imgCountPerPage","prev-text","next-text","current","currentPage","on","on-change","hanglePaginate","_l","item","src","linkimg","show-total","staticRenderFns","AlbumDetailvue_type_script_lang_js_","data","albumId","Object","images","methods","obtainAlbum","_this","api","then","response","obtainImages","queryParams","_this2","results","count","msg","$Message","loading","content","duration","setTimeout","page","created","$route","components_AlbumDetailvue_type_script_lang_js_","component","componentNormalizer"],"mappings":"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","file":"js/chunk-ed61530c.700dee7b.js","sourcesContent":["import axios from 'axios'\r\n\r\n// let host = 'http://127.0.0.1:8000'\r\nlet host = 'http://118.190.217.4:5088'\r\n\r\n// 获取摄影机构信息\r\nexport const getPublishers = params => {\r\n    if ('id' in params) {\r\n        return axios.get(`${host}/publishers/` + params.id + '/')\r\n    } else {\r\n        return axios.get(`${host}/publishers/`, params)\r\n    }\r\n}\r\n\r\n// 获取模特信息\r\nexport const getMoters = params => {\r\n    if ('id' in params) {\r\n        return axios.get(`${host}/moters/` + params.id + '/')\r\n    } else {\r\n        return axios.get(`${host}/moters/`, params)\r\n    }\r\n}\r\n\r\n// 获取专辑列表或专辑详情\r\nexport const getAlbums = params => {\r\n    if ('id' in params) {\r\n        return axios.get(`${host}/albums/` + params.id + '/')\r\n    } else {\r\n        return axios.get(`${host}/albums/`, params)\r\n    }\r\n}\r\n\r\n// 获取 专辑详情 或 图像列表\r\nexport const getImages = params => {\r\n    if ('id' in params) {\r\n        return axios.get(`${host}/images/` + params.id + '/')\r\n    } else {\r\n        return axios.get(`${host}/images/`, params)\r\n    }\r\n}\r\n\r\n// // 登录\r\n// export const login = params => { return axios.post(`${host}/login/`, params) }\r\n//\r\n// // 验证码\r\n// export const getVerifyCode = parmas => { return axios.post(`${host}/codes/`, parmas) }\r\n//\r\n// // 注册\r\n// export const registUser = parmas => { return axios.post(`${host}/regist/`, parmas) }\r\n//\r\n// // 获取当前登录用户的详情\r\n// export const getUserDetail = parmas => { return axios.get(`${host}/users/` + parmas.username + '/') }\r\n//\r\n// // 修改用户信息\r\n// export const updateUserInfo = params => { return axios.patch(`${host}/users/1/`, params) }\r\n//\r\n// // 获取一级分类类别信息\r\n// export const getFirstCategories = params => {\r\n//   if ('id' in params) {\r\n//     return axios.get(`${host}/categories1/` + params.id + '/')\r\n//   } else {\r\n//     return axios.get(`${host}/categories1/`, params)\r\n//   }\r\n// }\r\n//\r\n// // 获取二级分类类别信息\r\n// export const getSecondCategories = params => {\r\n//   if ('id' in params) {\r\n//     return axios.get(`${host}/categories2/` + params.id + '/')\r\n//   } else {\r\n//     return axios.get(`${host}/categories2/`, params)\r\n//   }\r\n// }\r\n//\r\n// // 获取分类标签信息\r\n// export const getTags = params => {\r\n//   if ('id' in params) {\r\n//     return axios.get(`${host}/tags/` + params.id + '/')\r\n//   } else {\r\n//     return axios.get(`${host}/tags/`, params)\r\n//   }\r\n// }\r\n//\r\n// // 获取专辑列表或专辑详情\r\n// export const getAlbums = params => {\r\n//   if ('id' in params) {\r\n//     return axios.get(`${host}/albums/` + params.id + '/')\r\n//   } else {\r\n//     return axios.get(`${host}/albums/`, params)\r\n//   }\r\n// }\r\n//\r\n// // 创建 Album\r\n// export const createAlbum = params => { return axios.post(`${host}/albumcreate/`, params, {headers:{ 'Content-Type': 'multipart/form-data' }})}\r\n// // export const createAlbum = params => { return axios.post(`${host}/albumcreate/`, params) }\r\n//\r\n//\r\n// // 获取文章列表或文章详情\r\n// export const getArticles = params => {\r\n//   if ('id' in params) {\r\n//     return axios.get(`${host}/articles/` + params.id + '/')\r\n//   } else {\r\n//     return axios.get(`${host}/articles/`, params)\r\n//   }\r\n// }\r\n//\r\n// // 创建 Article\r\n// export const createArticle = params => { return axios.post(`${host}/articlecreate/`, params, {headers:{ 'Content-Type': 'multipart/form-data' }})}\r\n//\r\n// // 添加收藏\r\n// export const addFavor = params => { return axios.post(`${host}/userfavor/`, params) }\r\n//\r\n// //取消收藏\r\n// export const delFavor = articleId => { return axios.delete(`${host}/userfavor/`+articleId+'/') }\r\n//\r\n// // 获取收藏列表\r\n// export const getAllArticleFavors = () => { return axios.get(`${host}/userfavor/`) }\r\n//\r\n// //判断是否收藏\r\n// export const getFavor = articleId => { return axios.get(`${host}/userfavor/`+articleId+'/') }\r\n//\r\n// // 添加专辑收藏\r\n// export const addAlbumFavor = params => { return axios.post(`${host}/albumfavor/`, params) }\r\n//\r\n// //取消专辑收藏\r\n// export const delAlbumFavor = albumId => { return axios.delete(`${host}/albumfavor/`+albumId+'/') }\r\n//\r\n// // 获取专辑收藏列表\r\n// export const getAllAlbumFavors = () => { return axios.get(`${host}/albumfavor/`) }\r\n//\r\n// //判断专辑是否收藏\r\n// export const getAlbumFavor = albumId => { return axios.get(`${host}/albumfavor/`+albumId+'/') }\r\n//\r\n// // 添加消息\r\n// export const addUserMessage = params => { return axios.post(`${host}/usermessage/`, params) }\r\n//\r\n// // 删除消息\r\n// export const delUserMessage = params => {\r\n//   if ('reciever' in params) {\r\n//     return axios.delete(`${host}/usermessage/`+params.messageId+`/?reciever=${params.reciever}`)\r\n//   } else {\r\n//     return axios.delete(`${host}/usermessage/`+params.messageId+'/')\r\n//   }\r\n// }\r\n//\r\n// // 获取消息列表\r\n// export const getUserAllMessage = params => { return axios.get(`${host}/usermessage/`, params) }\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main-container',{attrs:{\"is-collpased\":_vm.isCollapsed}},[_c('template',{slot:\"sidebar\"}),_c('template',{slot:\"content\"},[_c('Card',[_c('h2',[_vm._v(_vm._s(_vm.album.name))]),_c('Row',[_c('Page',{attrs:{\"total\":_vm.imgCountTotal,\"page-size\":_vm.imgCountPerPage,\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"current\":_vm.currentPage},on:{\"on-change\":_vm.hanglePaginate}})],1)],1),_vm._l((_vm.images),function(item){return _c('Row',[_c('img',{attrs:{\"src\":item.linkimg}})])}),_c('Row',[_c('Page',{attrs:{\"total\":_vm.imgCountTotal,\"page-size\":_vm.imgCountPerPage,\"show-total\":\"\",\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"current\":_vm.currentPage},on:{\"on-change\":_vm.hanglePaginate}})],1)],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <main-container :is-collpased=\"isCollapsed\">\r\n        <template slot=\"sidebar\">\r\n        </template>\r\n        <template slot=\"content\">\r\n            <Card>\r\n                <h2>{{album.name}}</h2>\r\n                <Row>\r\n                    <Page :total=\"imgCountTotal\" :page-size=\"imgCountPerPage\" prev-text=\"上一页\" next-text=\"下一页\"\r\n                          @on-change=\"hanglePaginate\" :current=\"currentPage\"/>\r\n                </Row>\r\n            </Card>\r\n            <Row v-for=\"item in images\">\r\n                <img :src=\"item.linkimg\"/>\r\n            </Row>\r\n            <Row>\r\n                <Page :total=\"imgCountTotal\" :page-size=\"imgCountPerPage\" show-total prev-text=\"上一页\" next-text=\"下一页\"\r\n                @on-change=\"hanglePaginate\" :current=\"currentPage\"/>\r\n            </Row>\r\n        </template>\r\n    </main-container>\r\n</template>\r\n\r\n<script>\r\n    import {getAlbums, getImages} from \"../api/api\";\r\n\r\n    export default {\r\n        name: \"album-detail\",\r\n        data() {\r\n            return {\r\n                isCollapsed: true,\r\n                albumId: 0,\r\n                album: Object,\r\n                images: [],\r\n                imgCountTotal: 0,\r\n                imgCountPerPage: 6,\r\n                currentPage: 1,\r\n            }\r\n        },\r\n        methods: {\r\n            obtainAlbum() {\r\n                getAlbums({id: this.albumId}).then(\r\n                    (response) => {\r\n                        this.album = response.data;\r\n                    }\r\n                )\r\n            },\r\n            obtainImages(queryParams) {\r\n                getImages({params: queryParams}).then(\r\n                    (response) => {\r\n                        this.images = response.data.results;\r\n                        this.imgCountTotal = response.data.count;\r\n                    }\r\n                )\r\n            },\r\n            hanglePaginate(current) {\r\n                this.currentPage = current;\r\n                const msg = this.$Message.loading({\r\n                    content: '正在加载中...',\r\n                    duration: 0\r\n                });\r\n                setTimeout(msg, 2500);\r\n                this.obtainImages({album: this.albumId, page: this.currentPage});\r\n            }\r\n        },\r\n        created() {\r\n            this.albumId = this.$route.params.id;\r\n            this.obtainAlbum();\r\n            this.obtainImages({album: this.albumId, page: this.currentPage});\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AlbumDetail.vue?vue&type=template&id=7ca448a2&scoped=true&\"\nimport script from \"./AlbumDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./AlbumDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ca448a2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}